\ProvidesPackage{preamble}

\usepackage{fontspec}

\usepackage[]{import}

% margins
\usepackage[margin=3cm]{geometry}
\overfullrule=1mm % highlight overfull in generated document
\setlength{\emergencystretch}{2em} % avoid overfull

% language
\usepackage{polyglossia}
\setdefaultlanguage{english}

% dummy text
\usepackage{blindtext}

% font
%\usepackage{biolinum}
%\usepackage{XCharter}
\usepackage{newpxtext, newpxmath}
%\usepackage[libertine,cmintegrals,cmbraces,vvarbb]{newtxmath}

% highlight source code
%\usepackage{cascadia-code}
\usepackage[outputdir=output]{minted}
\usemintedstyle{vs}
\newmintinline{gcode}{}

% line spacing
%\usepackage[onehalfspacing]{setspace}
\usepackage[doublespacing]{setspace}

% pararaph spacing
\usepackage[indent=20pt]{parskip}

% images
\usepackage{svg}
\usepackage{graphicx}
\usepackage{subcaption}
\graphicspath{{./images}}
\usepackage[export]{adjustbox} % trim images by percentages
\usepackage{float}
\usepackage{silence}
\WarningFilter{latex}{`h' float specifier changed to `ht'}

% caption
\usepackage{caption}
\captionsetup[sub]{labelsep=period,subrefformat=brace}
\captionsetup{font=normalsize,labelfont={bf,sf}}
\captionsetup[sub]{font=footnotesize,labelfont={bf,sf}}

% navigation, toc, hyperlinks
\usepackage{bookmark} % this also loads hidelinks
%\usepackage[hidelinks]{hyperref}
\usepackage[all]{hypcap} % achor links to the images, not the caption
\hypersetup{
    pdftitle={Design of a Portable Control Platform for Rod-Driven Continuum Parallalel Robots},
    pdfsubject={Graduation Project},
    bookmarksnumbered=true,
    bookmarksopen=true,
    bookmarksopenlevel=1,
    colorlinks=false,
    linktoc=all,
    hidelinks % remove border and color
}

% references
\usepackage[backend=biber,sorting=none,style=ieee]{biblatex}
\addbibresource{bibliography.bib}

% add a bookmark
\newcommand{\addbookmark}[1]{
    \cleardoublepage
    \pdfbookmark[chapter]{#1}{\lowercase{#1}}
}

% add chapter to Contents and bookmarks
\newcommand{\addcontent}[1]{
    \cleardoublepage
    \phantomsection
    \addcontentsline{toc}{chapter}{#1}
}

% create a chapter and add to bookmarls
\newcommand{\phantomchapter}[1]{
    \addbookmark{#1}
    \chapter*{#1}
}

% prevents page numbers and headings from appearing on empty pages.
\usepackage{emptypage}

% appendix
\usepackage[toc,page]{appendix}

% tables
\usepackage{booktabs}
\newcommand{\centered}[1]{\begin{tabular}{@{}l@{}} #1 \end{tabular}}

% maths
\newcommand{\myvec}{\overrightarrow}